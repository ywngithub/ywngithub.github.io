---
title: h264协议相关
date: 2021-10-18 19:08:53
tags: h264
categories: h264协议相关
---
&emsp;&emsp;H.264，同时也是MPEG-4第十部分，是由ITU-T视频编码专家组（VCEG）和ISO/IEC动态图像专家组（MPEG）联合组成的联合视频组（JVT，Joint Video Team）提出的高度压缩数字视频编解码器标准。这个标准通常被称之为H.264/AVC（或者AVC/H.264或者H.264/MPEG-4 AVC或MPEG-4/H.264 AVC）而明确的说明它两方面的开发者。
 <!-- more -->

&emsp;&emsp;H264结构中，一个视频图像编码后的数据叫做一帧，一帧由一个片（slice）或多个片组成，一个片由一个或多个宏块（MB）组成，一个宏块由16x16的yuv数据组成。宏块作为H264编码的基本单位。  
![](1.png)   

>SPS:序列参数集（Sequence parameter set）SPS中保存了⼀组编码视频序列(Coded video sequence)的全局参数。  
PPS：图像参数集(Picture parameter set) ，对应的是一个序列中某一幅图像或者某几幅图像的参数。  
I帧：帧内编码帧，可独立解码生成完整的图片。  
P帧: 前向预测编码帧，需要参考其前面的一个I 或者B 来生成一张完整的图片。  
B帧: 双向预测内插编码帧，则要参考其前一个I或者P帧及其后面的一个P帧来生成一张完整的图片。  

**发I帧之前，至少要发一次SPS和PPS。**

3字节的0x000001只有一种场合下使用，就是一个完整的帧被编为多个slice（片）的时候，包含这些slice的NALU 使用3字节起始码。其余场合都是4字节0x00000001的。  